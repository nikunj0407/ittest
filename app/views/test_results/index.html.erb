<style>
    #test_report_container {
        position: absolute;
        top: 15%;
        width: 100%;
        padding: 5%;
        font-family: 'Open Sans';
    }

    #test_report {
        width: 89%;
        color: #707070;
    }

    table, tr, td, th {
        border: 1px solid #ddd;
        border-collapse: collapse;
    }

    th {
        font-size: 1.2em;
        font-weight: 900;
    }

    a {
        color: #0088CC;
        font-weight: 400;
        font-size: 14px;
    }

    a:hover {
        color: #005080;
        text-decoration: underline;
    }
</style>


<div id='top_bar'>
  <div id='logo'>
    Let.Me.Practice.
  </div>
  <%= link_to 'Logout', signout_path, id: "logout_btn", class: "red_button" %>
  <div id="contact_us_btn" class="light_button">Contact Us</div>
</div>

<div id="test_report_container">
  <table id="test_report" class="table table-striped table-bordered">
    <thead>
    <tr>
      <th>Test No</th>
      <th>Test Date</th>
      <th>Objective score</th>
      <th>Links</th>
      <th>Overall Performance</th>
    </tr>
    </thead>
    <tbody>
    <% @test_results.each_with_index do |test_result, index| %>
        <tr>
          <td><%= index + 1 %></td>
          <td><%= test_result.created_at %></td>
          <td><%= test_result.obj_score %></td>
          <td><%= link_to 'View Details', show_test_result_path(test_result.id) %></td>
          <td><canvas id="canvas_<%= index + 1 %>" height="100" width="100"></canvas></td>
        </tr>
        <script>
            var data = [
                {
                    value: <%= (index+1)*2+10 %>,
                    color: "#69D2E7"

                },
                {
                    value: <%=(index+1)*2+5 %>,
                    color: "#F38630"
                }
            ];
            var ctx = document.getElementById("canvas_<%= index + 1 %>").getContext("2d");
            var piechart = new Chart(ctx).Pie(data);
        </script>
    <% end %>
    </tbody>
  </table>
</div>
